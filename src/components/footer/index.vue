<script setup lang="ts">
import { ref } from 'vue'
import { useRouter, useRoute } from "vue-router"

const router = useRouter()
const route = useRoute()
const activeIndex = ref<number>(route.meta.index as number || 1)

const routerChange = (index: number, url: string) => {
    activeIndex.value = index
    router.push(url)
}
</script>

<template>
    <div class="footer-wrap">
        <div class="item-wrap" @click="routerChange(1, '/index')">
            <div class="img-wrap" :class="{ active: activeIndex === 1 }">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690342965008"
                    class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="2872">
                    <path
                        d="M670.3 368.8c10.2 0 20.4 0.7 30.5 1.9-27.4-127-163.7-221.3-319.5-221.3-173.9 0-316.5 118.1-316.5 268 0 86.6 47.4 157.6 126.7 212.7l-31.6 94.8 110.6-55.2c39.6 7.8 71.4 15.8 110.9 15.8 9.9 0 19.8-0.5 29.6-1.2-6.4-21.4-9.7-43.7-9.8-66 0-137.7 118.7-249.5 269.1-249.5z m-170.2-85.4c23.8 0 39.6 15.6 39.6 39.4 0 23.6-15.8 39.4-39.6 39.4-23.7 0-47.5-15.7-47.5-39.4 0-23.8 23.8-39.4 47.5-39.4z m-221.6 78.7c-23.7 0-47.7-15.7-47.7-39.4s23.9-39.4 47.7-39.4c23.7 0 39.5 15.6 39.5 39.4 0.1 23.7-15.7 39.4-39.5 39.4z m680.7 252.3c0-126-126.6-228.6-268.8-228.6-150.6 0-269.2 102.7-269.2 228.6 0 126.2 118.6 228.7 269.2 228.7 31.5 0 63.3-7.9 95-15.9l86.8 47.3-23.8-78.7c63.5-47.4 110.8-110.3 110.8-181.4zM603.1 575c-15.8 0-31.7-15.6-31.7-31.6 0-15.7 15.9-31.5 31.7-31.5 23.9 0 39.6 15.8 39.6 31.5 0 16-15.7 31.6-39.6 31.6z m174.1 0c-15.6 0-31.4-15.6-31.4-31.6 0-15.7 15.8-31.5 31.4-31.5 23.7 0 39.6 15.8 39.6 31.5 0 16-15.9 31.6-39.6 31.6z m0 0"
                        fill="currentcolor" p-id="2873" />
                </svg>
            </div>
            <div class="img-text">微信 </div>
        </div>
        <div class="item-wrap" @click="routerChange(2, '/contacts')">
            <div class="img-wrap" :class="{ active: activeIndex === 2 }">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690355737096"
                    class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="4421">
                    <path
                        d="M812.59 924.65H249.92c-41.58 0-75.4-33.82-75.4-75.4V180.6c0-41.58 33.82-75.4 75.4-75.4h562.67c41.58 0 75.4 33.82 75.4 75.4v668.64c0 41.58-33.82 75.41-75.4 75.41zM249.92 155.46c-13.86 0-25.13 11.27-25.13 25.13v668.64c0 13.86 11.27 25.13 25.13 25.13h562.67c13.86 0 25.13-11.27 25.13-25.13V180.6c0-13.86-11.27-25.13-25.13-25.13H249.92z"
                        p-id="4422" fill="currentcolor" />
                    <path
                        d="M122.33 219.44h170.14v50.27H122.33zM432.49 219.44h222.66v50.27H432.49zM122.33 355.43h170.14v50.27H122.33zM122.33 491.44h170.14v50.27H122.33zM122.33 627.44h170.14v50.27H122.33zM122.33 763.44h170.14v50.27H122.33zM725.64 887.69h-50.27V761.91c0-55.86-45.44-101.3-101.3-101.3h-60.5c-55.86 0-101.3 45.45-101.3 101.3v125.78H362V761.91c0-83.58 68-151.57 151.57-151.57h60.5c83.58 0 151.57 68 151.57 151.57v125.78z"
                        p-id="4423" fill="currentcolor" />
                    <path
                        d="M543.82 660.61c-82.39 0-149.42-67.03-149.42-149.42 0-82.39 67.03-149.41 149.42-149.41 82.39 0 149.41 67.03 149.41 149.41 0.01 82.39-67.02 149.42-149.41 149.42z m0-248.57c-54.67 0-99.15 44.48-99.15 99.14 0 54.67 44.48 99.15 99.15 99.15 54.67 0 99.14-44.48 99.14-99.15 0.01-54.66-44.47-99.14-99.14-99.14z"
                        p-id="4424" fill="currentcolor" />
                </svg>
            </div>
            <div class="img-text">通讯录 </div>
        </div>
        <div class="item-wrap" @click="routerChange(3, '/find')">
            <div class="img-wrap" :class="{ active: activeIndex === 3 }">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690356157899"
                    class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="6331">
                    <path
                        d="M512 85.333333c235.637333 0 426.666667 191.029333 426.666667 426.666667S747.637333 938.666667 512 938.666667 85.333333 747.637333 85.333333 512 276.362667 85.333333 512 85.333333z m0 64c-200.298667 0-362.666667 162.368-362.666667 362.666667s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667-162.368-362.666667-362.666667-362.666667z m149.162667 158.901334a42.666667 42.666667 0 0 1 54.602666 54.602666L637.642667 579.84a96 96 0 0 1-57.813334 57.802667l-216.992 78.122666a42.666667 42.666667 0 0 1-54.602666-54.602666l78.122666-217.002667a96 96 0 0 1 57.813334-57.802667z m-20.970667 75.573333l-174.346667 62.762667a32 32 0 0 0-19.274666 19.274666l-62.762667 174.346667 174.346667-62.762667a32 32 0 0 0 19.274666-19.274666l62.762667-174.346667z"
                        fill="currentcolor" p-id="6332" />
                </svg>
            </div>
            <div class="img-text">发现 </div>
        </div>
        <div class="item-wrap" @click="routerChange(4, '/me')">
            <div class="img-wrap" :class="{ active: activeIndex === 4 }">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690356247076"
                    class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="7383">
                    <path
                        d="M371.319957 639.999233c-0.201591-0.167822-0.348947-0.37453-0.555655-0.538259-68.492954-54.16155-97.717555-109.608374-97.717555-185.393407 0-17.250896-13.981433-31.236422-31.236422-31.236422s-31.237445 13.986549-31.237445 31.236422c0 83.274612 30.083156 151.037948 94.031607 210.831776C207.274764 741.187843 153.244196 819.379693 126.838803 920.827199c-4.341888 16.696264 5.664 33.758871 22.360264 38.10076 2.644223 0.681522 5.287423 1.017166 7.890714 1.017166 13.880125 0 26.549679-9.324366 30.210046-23.376407 25.166169-96.705506 80.644715-169.906691 185.489598-244.770749 14.042831-10.026354 17.295921-29.53364 7.270591-43.571355C377.636826 644.831284 374.640586 642.099057 371.319957 639.999233z"
                        fill="currentcolor" p-id="7384" />
                    <path
                        d="M898.081149 920.725892c-26.666336-101.043301-79.924307-178.587398-175.113273-253.587556 65.422012-59.791781 96.186689-128.295991 96.186689-213.069747 0-17.250896-13.981433-31.236422-31.236422-31.236422s-31.237445 13.986549-31.237445 31.236422c0 75.748195-30.540573 133.269259-98.849332 186.244798-4.272303 2.204202-8.149611 5.301749-11.131525 9.484002-10.026354 14.037714-6.77224 33.545 7.270591 43.571355 104.58087 74.680886 157.811212 145.167241 183.710069 243.301282 3.691065 14.012132 16.340153 23.275099 30.179346 23.275099 2.63399 0 5.318122-0.335644 7.992021-1.046842C892.52869 954.493973 902.483412 937.411923 898.081149 920.725892z"
                        fill="currentcolor" p-id="7385" />
                    <path
                        d="M237.548254 388.711046c16.950044-2.933819 28.329209-19.080567 25.460882-36.046984-0.152473-0.880043-14.224979-88.50473 39.96113-152.621003 40.98853-48.507784 111.281479-73.099878 208.927403-73.099878 97.726765 0 168.193677 24.638143 209.456453 73.226768 54.492078 64.161299 40.866756 151.766542 40.733727 152.528905-2.918469 17.001209 8.490372 33.154098 25.501814 36.07666 1.789763 0.310062 3.569292 0.457418 5.328355 0.457418 14.926968 0 28.125571-10.737552 30.749328-25.948999 0.803295-4.703115 18.953677-116.172883-54.146201-202.912409C715.89376 96.735182 629.209492 64.47136 511.898693 64.47136c-117.30159 0-203.823152 32.258705-257.1855 95.886861-72.794933 86.806042-54.074569 198.367907-53.240575 203.075115C204.470905 380.38338 220.658585 391.670447 237.548254 388.711046z"
                        fill="currentcolor" p-id="7386" />
                    <path
                        d="M401.406183 366.915647c-17.256012 0-31.237445 13.986549-31.237445 31.237445l0 33.320896c0 17.250896 13.981433 31.236422 31.237445 31.236422s31.236422-13.986549 31.236422-31.236422l0-33.320896C432.642604 380.902196 418.661172 366.915647 401.406183 366.915647z"
                        fill="currentcolor" p-id="7387" />
                    <path
                        d="M623.541399 366.915647c-17.256012 0-31.237445 13.986549-31.237445 31.237445l0 33.320896c0 17.250896 13.981433 31.236422 31.237445 31.236422s31.236422-13.986549 31.236422-31.236422l0-33.320896C654.778844 380.902196 640.797411 366.915647 623.541399 366.915647z"
                        fill="currentcolor" p-id="7388" />
                    <path
                        d="M589.505211 498.986615c-14.317077-9.410324-33.585933-5.398964-43.164079 8.759501-0.132006 0.193405-13.615089 19.756973-34.175357 19.756973-19.990287 0-32.43676-18.119683-33.270754-19.37528-9.182127-14.418384-28.288277-18.816554-42.838667-9.761318-14.652721 9.105379-19.157315 28.369118-10.045797 43.021839 11.215436 18.043958 41.974997 48.588625 86.155219 48.588625 43.967374 0 75.112722-30.316469 86.582961-48.233538C607.970772 527.3455 603.781356 508.386706 589.505211 498.986615z"
                        fill="currentcolor" p-id="7389" />
                </svg>
            </div>
            <div class="img-text">我 </div>
        </div>
    </div>
</template>

<style lang="scss" scoped>
.footer-wrap {
    position: fixed;
    left: 0;
    bottom: 0;
    right: 0;
    height: 65px;
    background: rgba(247, 247, 247, 255);
    @include fj(space-around);

    .item-wrap {
        width: 25%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: center;
        overflow: hidden;

        .img-wrap {
            @include wh(40px);
            font-size: 10px;
            color: #8a8a8a;
        }

        .active {
            color: #50B674;
        }
    }
}
</style>