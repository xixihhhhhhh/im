<script setup lang="ts">
import toggle from '../../../base/toggle.vue'
import { useAppStore } from "../../../store/modules/app"
import { useRouter } from 'vue-router'

const appStore = useAppStore()
const router = useRouter()

const gotoAddFriend = () => {
    router.push('/addFriend')
    appStore.closeMoreBox()
}
</script>

<template>
    <toggle>
        <template v-slot:edit="{ setSlotRef }">
            <div class="moreBox" v-show="appStore.moreBox" :ref="(el) => setSlotRef(el)">
                <div class="item-wrap">
                    <div class="item-svg" data-content="发起群聊">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690443907812"
                            class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="3793" width="20" height="20">
                            <path
                                d="M827.733333 426.666667c-29.866667-145.066667-157.866667-256-315.733333-256-123.733333 0-230.4 68.266667-281.6 170.666666-132.266667 17.066667-230.4 123.733333-230.4 256 0 140.8 115.2 256 256 256h554.666667c119.466667 0 213.333333-93.866667 213.333333-213.333333 0-110.933333-89.6-204.8-196.266667-213.333333z"
                                p-id="3794" fill="#ffffff" />
                        </svg>
                    </div>
                </div>
                <div class="item-wrap">
                    <div class="item-svg" data-content="添加好友" @click="gotoAddFriend">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690444063173"
                            class="icon" viewBox="0 0 1177 1024" version="1.1" p-id="6073" width="20" height="20">
                            <path
                                d="M1043.5328 704v-136.0128H1177.6v-112h-134.0672V320h-110.3872v136.0128h-134.0672v112h134.0672V704z"
                                fill="#ffffff" p-id="6074" />
                            <path
                                d="M1009.3824 1024s0-70.4-5.7856-107.2128c-4.736-29.056-44.4416-67.456-213.1968-130.3808-166.1184-61.8752-155.8528-31.744-155.8528-145.6128 0-73.856 37.0432-30.9248 60.6976-171.1872 9.216-55.2192 16.5632-18.4064 36.5568-106.9312 10.496-46.4128-7.1168-49.8688-4.992-72.0128 2.0992-22.1184 4.1984-41.856 8.1408-87.1936C739.6864 147.456 688.4352 0 504.6784 0c-183.7312 0-235.008 147.456-229.9904 203.7248 3.9424 45.056 6.0416 65.0752 8.1408 87.2192 2.0992 22.1184-15.5136 25.6-4.992 71.9872 19.968 88.2688 27.3408 51.456 36.5312 106.9312 23.6544 140.288 60.7232 97.3312 60.7232 171.2128 0 114.1248 10.24 83.968-155.8784 145.5872C50.4576 849.3312 10.5216 888.0128 6.0416 917.0688 0 953.6 0 1024 0 1024h1009.3824z"
                                fill="#ffffff" p-id="6075" />
                        </svg>
                    </div>
                </div>
                <div class="item-wrap">
                    <div class="item-svg" data-content="扫一扫">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690444142929"
                            class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="13211" width="20" height="20">
                            <path
                                d="M921.6 76.8h-819.2c-12.8 0-25.6 10.24-25.6 25.6v153.6c0 15.36 12.8 25.6 25.6 25.6s25.6-10.24 25.6-25.6v-128h768v128c0 15.36 12.8 25.6 25.6 25.6s25.6-10.24 25.6-25.6v-153.6c0-15.36-12.8-25.6-25.6-25.6zM102.4 947.2h819.2c12.8 0 25.6-10.24 25.6-25.6v-153.6c0-15.36-12.8-25.6-25.6-25.6s-25.6 10.24-25.6 25.6v128h-768v-128c0-15.36-12.8-25.6-25.6-25.6s-25.6 10.24-25.6 25.6v153.6c0 15.36 12.8 25.6 25.6 25.6zM947.2 537.6h-870.4c-12.8 0-25.6-12.8-25.6-25.6 0-15.36 12.8-25.6 25.6-25.6h870.4c15.36 0 25.6 10.24 25.6 25.6 0 12.8-10.24 25.6-25.6 25.6z"
                                fill="#ffffff" p-id="13212" />
                        </svg>
                    </div>
                </div>
                <div class="item-wrap">
                    <div class="item-svg" data-content="收付款">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t="1690444197131"
                            class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="14580" width="20" height="20">
                            <path
                                d="M306.176 135.52a32 32 0 0 1 45.248 0l90.656 90.656a32 32 0 0 1 0 45.264l-90.656 90.656a32 32 0 0 1-45.248-45.248l36.032-36.048H144a32 32 0 1 1 0-64h198.208l-36.032-36.032a32 32 0 0 1 0-45.248z m167.264 51.904a32 32 0 0 1 32-32h269.056a97.488 97.488 0 0 1 97.504 97.472V806.944c0 21.184-9.904 38.8-20 51.52-10.32 12.976-23.264 23.92-34.912 32.432a309.616 309.616 0 0 1-45.792 27.472l-0.912 0.432-0.288 0.144-0.096 0.048h-0.032v0.016c-0.016 0-0.032 0-13.52-29.008-12.48 29.456-12.496 29.456-12.512 29.456l-0.048-0.016-0.096-0.048-0.288-0.128-0.928-0.4a300.096 300.096 0 0 1-13.904-6.656 299.904 299.904 0 0 1-32.576-19.248c-7.648-5.248-15.888-11.52-23.616-18.752-7.248 7.04-14.928 13.184-22.096 18.336a284.992 284.992 0 0 1-44.592 26.08l-0.896 0.416-0.288 0.128-0.096 0.032-0.032 0.032h-0.016l-13.024-29.232-13.024 29.232-0.048-0.032-0.096-0.032-0.288-0.128-0.896-0.416-3.04-1.44a284.992 284.992 0 0 1-41.536-24.64 196.16 196.16 0 0 1-21.568-17.824c-7.088 6.832-14.56 12.8-21.568 17.824a284.992 284.992 0 0 1-44.576 26.08l-0.896 0.416-0.288 0.128-0.096 0.032-0.032 0.032h-0.032l-13.008-29.232-13.024 29.232h-0.016l-0.048-0.032-0.096-0.032-0.272-0.128-0.912-0.416-3.04-1.44a284.992 284.992 0 0 1-41.536-24.64 195.04 195.04 0 0 1-22.096-18.336 200.16 200.16 0 0 1-23.632 18.752 300.064 300.064 0 0 1-46.464 25.904l-0.928 0.4-0.288 0.128-0.096 0.048h-0.048v0.016l-12.512-29.456a6963.04 6963.04 0 0 1-13.024 29.232l-0.048-0.032-0.096-0.032-0.288-0.128-0.896-0.416-3.04-1.44a284.992 284.992 0 0 1-41.536-24.64c-11.36-8.16-24.032-18.784-34.128-31.584-9.968-12.656-19.44-30.032-19.44-50.96V353.152a32 32 0 0 1 64 0v456.848c0 1.152 0.592 4.832 5.712 11.328 4.992 6.336 12.448 12.96 21.216 19.264 7.696 5.536 15.536 10.224 21.92 13.744 6.88-3.584 15.44-8.416 23.808-14.16 9.28-6.368 17.2-13.056 22.48-19.44 5.456-6.592 5.856-10.08 5.856-10.736a32 32 0 0 1 64 0c0 1.152 0.592 4.832 5.712 11.328 4.992 6.336 12.464 12.96 21.232 19.264 7.536 5.44 15.232 10.048 21.568 13.536 6.32-3.488 14.016-8.112 21.552-13.536 8.768-6.304 16.24-12.928 21.232-19.264 5.12-6.496 5.712-10.176 5.712-11.328a32 32 0 0 1 64 0c0 1.152 0.592 4.832 5.712 11.328 4.992 6.336 12.448 12.96 21.216 19.264 7.552 5.44 15.248 10.048 21.568 13.536 6.336-3.488 14.016-8.112 21.568-13.536 8.768-6.304 16.224-12.928 21.232-19.264 5.12-6.496 5.696-10.176 5.696-11.328a32 32 0 0 1 64 0c0 0.672 0.4 4.144 5.856 10.736 5.28 6.4 13.2 13.072 22.496 19.44 8.272 5.68 16.72 10.464 23.552 14.032 6.8-3.84 15.232-8.976 23.52-15.024 9.232-6.72 17.168-13.792 22.528-20.528 5.568-7.008 6.112-10.816 6.112-11.712v-0.208V252.896a33.488 33.488 0 0 0-33.504-33.472H505.44a32 32 0 0 1-32-32z m-208 702.576l-13.024 29.232c8.096 3.6 17.36 3.68 25.536 0.224l-12.512-29.456z m165.008 0l-13.024 29.232c8.272 3.68 17.76 3.68 26.048 0l-13.024-29.232z m160.992 0l-13.024 29.232c8.288 3.68 17.76 3.68 26.048 0l-13.024-29.232z m165.008 0l-12.512 29.456c8.336 3.52 17.808 3.36 26.016-0.448l-13.504-29.008z m-374.4-473.248a32 32 0 0 1 44.32-9.168l87.424 57.456 84.64-57.216a32 32 0 1 1 35.84 53.024l-88.224 59.648v11.52h105.488a32 32 0 0 1 0 64h-105.488v28.112l105.744 0.832a32 32 0 0 1-0.512 64l-105.232-0.832v42.24a32 32 0 0 1-64 0v-42.496H373.6a32 32 0 0 1 0-64h108.432v-27.856H373.6a32 32 0 0 1 0-64h108.432v-11.264l-90.832-59.68a32 32 0 0 1-9.168-44.32z"
                                fill="#ffffff" p-id="14581" />
                        </svg>
                    </div>
                </div>
            </div>
        </template>
    </toggle>
</template>

<style lang="scss" scoped>
.moreBox {
    position: fixed;
    width: 130px;
    height: 200px;
    right: 20px;
    top: 55px;
    background: rgb(76, 76, 76);
    @include borderRadius(10px);

    .item-wrap {
        height: 25%;
        padding: 10px 0 10px 20px;

        .item-svg::after {
            content: attr(data-content);
            color: #fff;
            font-size: 14px;
            position: absolute;
            left: 30px;
        }
    }
}

.moreBox::before {
    content: "";
    position: absolute;
    left: 90px;
    top: -28px;
    border: 15px solid transparent;
    border-bottom: 15px solid rgb(76, 76, 76);
}
</style>